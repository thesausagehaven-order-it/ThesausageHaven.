<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <link rel="icon" type="image/png" href="https://i.ibb.co/QjMfBBqz/LOGO.png" />
  <title>The Sausage Haven</title>
  <script src="https://cdn.tailwindcss.com"></script>

  <script>
    const SCRIPT_URL = "https://script.google.com/macros/s/AKfycbxJGHfyO9eWIn6rdwUhkmVRgqPnX38FPwz58UekuvKdSb_onFt-6nGo4n3NEo2oC5ll/exec";
    const STAFF_PASSWORD = "Staff123";
  </script>

  <style>
    /* Walk-in Form Styling */
    #staffOrderForm {
      font-family: Arial, sans-serif;
      background: #f9f4ec;
      padding: 20px;
    }
    #staffOrderForm .container {
      max-width: 450px;
      margin: auto;
      background: white;
      padding: 20px;
      border-radius: 12px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
      border: 1px solid #f3d2a5;
    }
    #staffOrderForm select, 
    #staffOrderForm input, 
    #staffOrderForm textarea {
      width: 100%;
      padding: 10px;
      border-radius: 8px;
      border: 1px solid #e0c3a0;
      margin-bottom: 12px;
    }
    #staffOrderForm button {
      width: 100%;
      padding: 12px;
      background: #037655;
      color: white;
      font-size: 15px;
      border: none;
      border-radius: 8px;
      cursor: pointer;
    }
    #staffOrderForm button:hover {
      background: #025d43;
    }

    /* Dashboard buttons and table */
    #ordersTable th {
      background: #f3d2a5 !important;
      color: #037655;
      font-weight: bold;
    }

    #ordersTable td {
      border-color: #e5d3b7 !important;
    }

    #closeDashboard {
      background: #f3d2a5 !important;
      color: #037655 !important;
      border: 1px solid #e5d3b7;
    }
    #closeDashboard:hover {
      background: #eac89b !important;
    }

    /* Staff modal */
    #staffModal .bg-white {
      border: 2px solid #f3d2a5;
    }

    #openWalkInBtn {
      background: #037655 !important;
    }
    #openWalkInBtn:hover {
      background: #025d43 !important;
    }

    #openDashboardBtn {
      background: #f3d2a5 !important;
      color: #037655 !important;
    }
    #openDashboardBtn:hover {
      background: #eac89b !important;
    }

  </style>
</head>

<body class="bg-[#faf7f2] font-sans text-gray-800">

<!-- HEADER -->
<header style="background:#f3d2a5;" class="text-gray-900 p-6 shadow-md">
  <div class="max-w-6xl mx-auto flex justify-between items-center">
   <div class="flex items-center gap-3">
  <div class="flex items-center gap-3">
 <img 
   src="https://i.ibb.co/QjMfBBqz/LOGO.png" alt="LOGO" class="h-12 w-auto">
  <h1 class="text-2xl md:text-3xl font-bold" style="color:#037655;">
    The Sausage Haven
  </h1>
</div>

</div>
    <nav class="space-x-4">
      <a href="#order" class="hover:underline font-medium" style="color:#037655;">
        Order Now
      </a>
      <a href="#contact" class="hover:underline font-medium" style="color:#037655;">
        Contact
      </a>
      <button id="openStaffLogin"
        class="ml-4 px-3 py-1 rounded hover:bg-[#f8e7d0]"
        style="background:white; color:#037655; border:1px solid #037655;">
        Staff
      </button>
    </nav>
  </div>
</header>

<!-- HERO SECTION -->
<section style="background:#037655;" class="text-white py-16 text-center">
  <div class="max-w-4xl mx-auto px-4">
    <h2 class="text-3xl md:text-4xl font-bold mb-3">
      Fresh & Delicious Sausages Delivered!
    </h2>
    <p class="mb-6">Order online and get your favorite Sadia sausages delivered to your hostel.</p>

    <a href="#order"
       class="font-bold px-6 py-2 rounded shadow transition"
       style="background:#f3d2a5; color:#037655; border:1px solid #fff;">
      Place Your Order
    </a>
  </div>
</section>

<!-- MAIN CONTENT -->
<main class="max-w-6xl mx-auto p-6 space-y-10">

  <!-- CUSTOMER ORDER FORM -->
  <section id="order" class="bg-white p-8 rounded-lg shadow-md border border-[#f3d2a5]">
    <h3 class="text-2xl font-bold mb-4 text-center" style="color:#037655;">Place Your Order</h3>

    <form id="customerOrderForm" class="space-y-4" method="POST" action="https://script.google.com/macros/s/AKfycbxJGHfyO9eWIn6rdwUhkmVRgqPnX38FPwz58UekuvKdSb_onFt-6nGo4n3NEo2oC5ll/exec">
      <input type="hidden" name="orderType" value="Customer">

      <div>
        <label class="font-medium text-gray-700">Full Name</label>
        <input name="FullName" type="text" required class="w-full border rounded px-3 py-2 border-[#e0c3a0]">
      </div>

      <div>
        <label class="font-medium text-gray-700">Phone Number</label>
        <input name="PhoneNumber" type="tel" required class="w-full border rounded px-3 py-2 border-[#e0c3a0]">
      </div>

      <div>
        <label class="font-medium text-gray-700">Delivery Location</label>
        <input name="DeliveryLocation" type="text" required class="w-full border rounded px-3 py-2 border-[#e0c3a0]">
      </div>

      <div>
        <label class="font-medium text-gray-700">Quantity</label>
        <input name="Quantity" type="number" min="1" max="50" required class="w-full border rounded px-3 py-2 border-[#e0c3a0]">
      </div>

      <div>
        <label class="font-medium text-gray-700">Preferred Delivery Time</label>
        <input name="DeliveryTime" type="time" required class="w-full border rounded px-3 py-2 border-[#e0c3a0]">
      </div>

      <div>
        <label class="font-medium text-gray-700">Additional Notes</label>
        <textarea name="AdditionalNotes" rows="3" class="w-full border rounded px-3 py-2 border-[#e0c3a0]"></textarea>
      </div>

       <div>
        <label class="font-medium text-gray-700">Payment Method</label>
        <select name="PaymentMethod" required class="w-full border rounded px-3 py-2 border-[#e0c3a0]">
          <option value="">Select...</option>
          <option value="Cash">Cash on Delivery</option>
          <option value="MoMo">Mobile Money (MoMo)</option>
        </select>
      </div>

      <button id="submitOrderBtn" type="submit"
        class="px-6 py-2 rounded font-semibold"
        style="background:#037655; color:white;">
        Submit Order
      </button>
    </form>
  </section>
</main>

<!-- STAFF LOGIN MODAL -->
<div id="staffModal" class="fixed inset-0 bg-black bg-opacity-40 hidden items-center justify-center z-40">
  <div class="bg-white rounded-lg shadow-lg w-full max-w-3xl border-2 border-[#f3d2a5]">
    <div class="p-6 md:flex md:gap-6">

      <div class="md:w-1/2">
        <h3 class="text-xl font-bold mb-3" style="color:#037655;">Staff Access</h3>

        <input id="modalPassword" type="password" 
               class="w-full border rounded px-3 py-2 mb-3 border-[#e0c3a0]"
               placeholder="Password">

        <div class="flex gap-3">
          <button id="openWalkInBtn" 
                  class="text-white px-4 py-2 rounded"
                  style="background:#037655;">
            Walk-in Entry
          </button>

          <button id="openDashboardBtn" 
                  class="px-4 py-2 rounded"
                  style="background:#f3d2a5; color:#037655;">
            Dashboard
          </button>
        </div>
      </div>

      <div class="md:w-1/2 border-l md:pl-6 mt-4 md:mt-0">
        <h4 class="font-semibold mb-2" style="color:#037655;">Staff actions</h4>
        <ul class="text-sm list-disc list-inside text-gray-700">
          <li>Enter walk-in orders</li>
          <li>View pending deliveries</li>
          <li>Mark orders as delivered</li>
        </ul>
      </div>
    </div>

    <div class="px-6 py-3 border-t text-right">
      <button id="closeStaffModal" 
              class="px-4 py-2 rounded hover:bg-[#f8e7d0]"
              style="color:#037655;">
        Close
      </button>
    </div>
  </div>
</div>

<!-- WALK-IN FORM -->
<section id="staffOrderForm" class="hidden">
  <div class="container">
    <h2 style="color:#037655;">Walk-In Order</h2>

    <form id="staffOrderForm" method="POST" 
          action="https://script.google.com/macros/s/AKfycbxJGHfyO9eWIn6rdwUhkmVRgqPnX38FPwz58UekuvKdSb_onFt-6nGo4n3NEo2oC5ll/exec">

      <input type="hidden" name="orderType" value="Staff">

      <label class="font-medium text-gray-700">Full Name</label>
      <input type="text" name="fullName" required>

      <label class="font-medium text-gray-700">Phone Number</label>
      <input type="text" name="phoneNumber" required>

      <label class="font-medium text-gray-700">Quantity</label>
      <input type="number" name="Quantity" required min="1">

      <label class="font-medium text-gray-700">Additional Notes</label>
      <textarea name="notes" rows="3"></textarea>

      <label class="font-medium text-gray-700">Payment Method</label>
      <select name="paymentMethod">
        <option value="cash">Cash</option>
        <option value="momo">MoMo</option>
      </select>

      <label class="font-medium text-gray-700">Shop</label>
      <select name="DeliveryPoint" required>
        <option value="">Select Shop</option>
        <option value="JRS01">J's Royal</option>
        <option value="GHS01">Gusss Hostel</option>
      </select>

      <label class="font-medium text-gray-700">Delivery Staff</label>
      <select name="deliveryStaff" required>
        <option value="">Select Staff</option>
        <option value="DM001">DM001</option>
        <option value="DM002">DM002</option>
        <option value="DM003">DM003</option>
        <option value="DM004">DM004</option>
        <option value="DM005">DM005</option>
        <option value="DM006">DM006</option>
        <option value="DM007">DM007</option>
        <option value="DM008">DM008</option>
        <option value="DM009">DM009</option>
        <option value="DM010">DM010</option>
        <option value="DM011">DM011</option>
        <option value="DM012">DM012</option>
      </select>

      <button type="submit">Submit Walk-In Order</button>
    </form>

    <div id="response"></div>
  </div>
</section>

<!-- STAFF DASHBOARD -->
<section id="staffDashboard" class="hidden py-10 bg-gray-50">
  <div class="max-w-5xl mx-auto bg-white p-6 rounded shadow border border-[#f3d2a5]">
    <div class="flex justify-between">
      <h3 class="text-xl font-bold" style="color:#037655;">Pending Deliveries</h3>

      <button id="closeDashboard" class="px-3 py-1 rounded">Close</button>
    </div>

    <table id="ordersTable" class="w-full border-collapse text-sm mt-4">
      <thead>
        <tr>
          <th class="border px-3 py-2">Order No</th>
          <th class="border px-3 py-2">Customer</th>
          <th class="border px-3 py-2">Phone</th>
          <th class="border px-3 py-2">Qty</th>
          <th class="border px-3 py-2">Payment</th>
          <th class="border px-3 py-2">Delivery</th>
          <th class="border px-3 py-2">Invoice</th>
          <th class="border px-3 py-2">Action</th>
        </tr>
      </thead>
      <tbody></tbody>
    </table>

    <p id="dashboardStatus" class="hidden text-sm mt-3"></p>
  </div>
</section>

<!-- CONTACT -->
<section id="contact" class="p-6 text-center mt-10" style="background:#f9f4ec;">
  <h4 class="text-lg font-bold mb-2" style="color:#037655;">Contact Us</h4>
  <p class="text-gray-700">Phone: 0256507851</p>
  <p class="text-gray-700">Email: thesausagehaven@gmail.com</p>
</section>

<footer style="background:#037655;" class="text-white p-6 mt-10 text-center">
  Â© 2025 The Sausage Haven
</footer>

</body>
</html>


<!-- SCRIPTS -->
<script>
  /* STAFF LOGIN */
  const staffModal = document.getElementById('staffModal');

  document.getElementById('openStaffLogin').onclick = () => staffModal.classList.remove('hidden');
  document.getElementById('closeStaffModal').onclick = () => staffModal.classList.add('hidden');

  document.getElementById('openWalkInBtn').onclick = () => {
    if (modalPassword.value !== STAFF_PASSWORD) return alert("Wrong password");
    staffModal.classList.add('hidden');
    document.getElementById('staffOrderForm').classList.remove('hidden');
  };

  document.getElementById('openDashboardBtn').onclick = () => {
    if (modalPassword.value !== STAFF_PASSWORD) return alert("Wrong password");
    staffModal.classList.add('hidden');
    document.getElementById('staffDashboard').classList.remove('hidden');
    loadOrders();
  };

  document.getElementById('closeDashboard').onclick = () => {
    document.getElementById('staffDashboard').classList.add('hidden');
  };

  

  /* DASHBOARD LOAD */
  async function loadOrders() {
    const res = await fetch(SCRIPT_URL + "?type=assignedPending");
    const orders = await res.json();

    const body = document.querySelector("#ordersTable tbody");
    body.innerHTML = "";

    if (orders.length === 0) {
      body.innerHTML = `<tr><td colspan="8" class="text-center py-4">No pending deliveries.</td></tr>`;
      return;
    }

    orders.forEach(o => {
      const row = document.createElement("tr");
      row.innerHTML = `
        <td class="border px-3 py-2">${o.OrderNumber}</td>
        <td class="border px-3 py-2">${o.FullName}</td>
        <td class="border px-3 py-2">${o.PhoneNumber}</td>
        <td class="border px-3 py-2">${o.Quantity}</td>
        <td class="border px-3 py-2">${o.PaymentMethod}</td>
        <td class="border px-3 py-2">${o.DeliveryPoint}</td>
        <td class="border px-3 py-2"><a target="_blank" href="${o.InvoiceUrl}">Invoice</a></td>
        <td class="border px-3 py-2">
          <button class="bg-green-600 hover:bg-green-700 text-white px-3 py-1 rounded">Delivered</button>

        </td>
      `;
      body.appendChild(row);
    });
  }

  async function markDelivered(row) {
    await fetch(SCRIPT_URL, {
      method: "POST",
      body: new URLSearchParams({ action: "markDelivered", row })
    });
    loadOrders();
  }
</script>
<script>
  // Grab necessary elements
  const openStaffLogin = document.getElementById("openStaffLogin");
  const staffModal = document.getElementById("staffModal");
  const closeStaffModal = document.getElementById("closeStaffModal");
  const openWalkInBtn = document.getElementById("openWalkInBtn");
  const openDashboardBtn = document.getElementById("openDashboardBtn");
  const staffOrderForm = document.getElementById("staffOrderForm");
  const staffDashboard = document.getElementById("staffDashboard");
  const modalPassword = document.getElementById("modalPassword");

  // Show modal when staff button is clicked
  openStaffLogin.addEventListener("click", () => {
    staffModal.classList.remove("hidden");
  });

  // Close modal
  closeStaffModal.addEventListener("click", () => {
    staffModal.classList.add("hidden");
    staffOrderForm.classList.add("hidden");
    staffDashboard.classList.add("hidden");
  });

  // Walk-in form button
  openWalkInBtn.addEventListener("click", () => {
    if (modalPassword.value !== "Staff123") {
      alert("Incorrect password!");
      return;
    }

    staffDashboard.classList.add("hidden"); // hide dashboard
    staffOrderForm.classList.remove("hidden"); // show walk-in form

    // Optional smooth transition
    staffOrderForm.classList.remove("opacity-0", "max-h-0");
    staffOrderForm.classList.add("opacity-100", "max-h-screen");
  });

  // Dashboard button
  openDashboardBtn.addEventListener("click", () => {
    if (modalPassword.value !== "Staff123") {
      alert("Incorrect password!");
      return;
    }

    staffOrderForm.classList.add("hidden"); // hide walk-in form
    staffDashboard.classList.remove("hidden"); // show dashboard
  });

  // Optional: hide form with smooth transition when closing modal
  staffModal.addEventListener("transitionend", () => {
    if (staffModal.classList.contains("hidden")) {
      staffOrderForm.classList.add("hidden");
      staffDashboard.classList.add("hidden");
    }
  });
</script>

</body>
</html>














